const translations = {
    "es": {
        "navInicio": "Inicio",
        "navSobreMi": "Sobre mí",
        "navCertificaciones": "Certificaciones",
        "navProyectos": "Proyectos",
        "heroTitle": "Hola, soy <span class='highlight-text-grayscale'>Juan Torres</span>",
        "heroLead": "Un Software Developer apasionado por la innovación y la eficiencia.",
        "btnDownload": "Descargar CV <i class='bi bi-download'></i>",
        "aboutTitle": "Sobre mí",
        "aboutText": "Hola, soy Juan Ramon, un orgulloso salvadoreño con una pasión desbordante por crear experiencias digitales que fusionan creatividad y tecnología. Desde El Salvador, me dedico a dar vida a proyectos web utilizando herramientas como .NET Core, MySQL, HTML, CSS y JavaScript.",
        "devSkillsTitle": "Habilidades de Programación",
        "html5Title": "HTML5",
        "html5Description": "Lenguaje de marcado para estructurar páginas web.",
        "css3Title": "CSS3",
        "css3Description": "Estilos visuales para personalizar la apariencia web.",
        "jsTitle": "JavaScript",
        "jsDescription": "Lenguaje de programación para interactividad web.",
        "bootstrapTitle": "Bootstrap",
        "bootstrapDescription": "Framework CSS para diseño responsivo y moderno.",
        "cardDotnetTitle": ".NET",
        "cardDotnetText": "Framework de desarrollo para apps modernas y escalables.",
        "softSkillsTitle": "Habilidades Blandas",
        "softSkillDisciplineTitle": "Disciplina",
        "softSkillDisciplineText": "Constancia en el aprendizaje, el ejercicio y los proyectos personales.",
        "softSkillCuriosityTitle": "Curiosidad",
        "softSkillCuriosityText": "Interés natural por aprender, explorar nuevas ideas y profundizar en lo técnico.",
        "softSkillPerseveranceTitle": "Perseverancia",
        "softSkillPerseveranceText": "No te rindes fácilmente y retomas metas hasta lograr resultados concretos.",
        "softSkillSelfCriticismTitle": "Autocrítica",
        "softSkillSelfCriticismText": "Capacidad para reconocer tus puntos débiles y mejorar sobre ellos.",
        "softSkillCommunicationTitle": "Comunicación",
        "softSkillCommunicationText": "Capacidad para transmitir ideas, pensamientos y cuestionamientos de manera clara y eficaz.",
        "certificationsTitle": "Certificaciones",
        "techInterestsTitle": "Mis Intereses en la Tecnología",
        "interestIATitle": "Inteligencia Artificial",
        "interestIADesc": "Fascinado por el aprendizaje automático y cómo las IA están transformando el mundo tecnológico.",
        "interestFullstackTitle": "Desarrollo Web Fullstack",
        "interestFullstackDesc": "Me apasiona construir soluciones web completas desde la interfaz de usuario hasta la gestión de bases de datos.",
        "interestCyberTitle": "Ciberseguridad",
        "interestCyberDesc": "El mundo de la ciberseguridad me atrae por su constante evolución y la importancia de proteger la información.",
        "interestVRARTitle": "Realidad Virtual/Aumentada",
        "interestVRARDesc": "Estoy entusiasmado con el potencial de la realidad virtual y aumentada para crear experiencias inmersivas.",
        "projectsTitle": "Mis Proyectos",
        "project1Title": "Calculadora Contable",
        "project1Description": "El sistema contable es una herramienta integral diseñada para facilitar la gestión financiera y contable.",
        "project1Status": "Finalizado",
        "project2Title": "Huerto en Mano",
        "project2Description": "Plataforma para gestión de huertos urbanos, incluyendo foros de blockchain y visualización de datos.",
        "project2Status": "En Desarrollo",
        "project3Title": "Sistema para una Farmacia",
        "project3Description": "Software integral que automatiza y controla las operaciones clave, garantizando eficiencia y precisión.",
        "project3Status": "Finalizado",
        "viewProjectBtn": "Ver Proyecto",
        "testimonialsSectionTitle": "Lo que dicen sobre mí",
        "testimonial1Role": "Programador Front-end",
        "testimonial1Text": "Su curiosidad y <strong>perseverancia</strong> son excepcionales.",
        "testimonial2Role": "Programador Back-end",
        "testimonial2Text": "Se destaca por su <strong>disciplina</strong> y su capacidad de autocrítica.",
        "testimonial3Role": "Diseñadora UI/UX",
        "testimonial3Text": "La <strong>comunicación</strong> es excepcional.",
        "testimonial4Role": "Analista de pruebas",
        "testimonial4Text": "Es un <strong>trabajador innato</strong> y le gusta mejorar constantemente.",
        "footerText": "© 2025 Juan Ramón Torres Guzmán. Todos los derechos reservados."
    },
    "en": {
        "navInicio": "Home",
        "navSobreMi": "About Me",
        "navCertificaciones": "Certifications",
        "navProyectos": "Projects",
        "heroTitle": "Hi, I'm <span class='highlight-text-grayscale'>Juan Torres</span>",
        "heroLead": "A Software Developer passionate about innovation and efficiency.",
        "btnDownload": "Download CV <i class='bi bi-download'></i>",
        "aboutTitle": "About Me",
        "aboutText": "Hi, I'm Juan Ramon, a proud Salvadoran with a boundless passion for creating digital experiences that merge creativity and technology. From El Salvador, I dedicate myself to bringing web projects to life using tools like .NET Core, MySQL, HTML, CSS, and JavaScript.",
        "devSkillsTitle": "Programming Skills",
        "html5Title": "HTML5",
        "html5Description": "Markup language for structuring web pages.",
        "css3Title": "CSS3",
        "css3Description": "Visual styles for customizing web appearance.",
        "jsTitle": "JavaScript",
        "jsDescription": "Programming language for web interactivity.",
        "bootstrapTitle": "Bootstrap",
        "bootstrapDescription": "CSS Framework for responsive and modern design.",
        "cardDotnetTitle": ".NET",
        "cardDotnetText": "Development framework for modern and scalable apps.",
        "softSkillsTitle": "Soft Skills",
        "softSkillDisciplineTitle": "Discipline",
        "softSkillDisciplineText": "Consistency in learning, exercise, and personal projects.",
        "softSkillCuriosityTitle": "Curiosity",
        "softSkillCuriosityText": "Natural interest in learning, exploring new ideas, and deepening technical knowledge.",
        "softSkillPerseveranceTitle": "Perseverance",
        "softSkillPerseveranceText": "You don't give up easily and keep working on goals until achieving concrete results.",
        "softSkillSelfCriticismTitle": "Self-criticism",
        "softSkillSelfCriticismText": "Ability to recognize your weak points and improve on them.",
        "softSkillCommunicationTitle": "Communication",
        "softSkillCommunicationText": "Ability to convey ideas, thoughts, and questions clearly and effectively.",
        "certificationsTitle": "Certifications",
        "techInterestsTitle": "Tech Interests",
        "interestIATitle": "Artificial Intelligence",
        "interestIADesc": "Fascinated by machine learning and how AIs are transforming the tech world.",
        "interestFullstackTitle": "Fullstack Web Development",
        "interestFullstackDesc": "I'm passionate about building complete web solutions from the user interface to database management.",
        "interestCyberTitle": "Cybersecurity",
        "interestCyberDesc": "The world of cybersecurity attracts me for its constant evolution and the importance of protecting information.",
        "interestVRARTitle": "Virtual/Augmented Reality",
        "interestVRARDesc": "I'm excited about the potential of virtual and augmented reality to create immersive experiences.",
        "projectsTitle": "My Projects",
        "project1Title": "Accounting Calculator",
        "project1Description": "A comprehensive accounting system designed to facilitate financial and accounting management.",
        "project1Status": "Finished",
        "project2Title": "Huerto en Mano",
        "project2Description": "Platform for urban garden management, including blockchain forums and data visualization.",
        "project2Status": "In Development",
        "project3Title": "Pharmacy System",
        "project3Description": "Comprehensive software that automates and controls key operations, ensuring efficiency and accuracy.",
        "project3Status": "Finished",
        "viewProjectBtn": "View Project",
        "testimonialsSectionTitle": "What they say about me",
        "testimonial1Role": "Front-end Developer",
        "testimonial1Text": "His curiosity and <strong>perseverance</strong> are exceptional.",
        "testimonial2Role": "Back-end Developer",
        "testimonial2Text": "He stands out for his <strong>discipline</strong> and his ability for self-criticism.",
        "testimonial3Role": "UI/UX Designer",
        "testimonial3Text": "<strong>Communication</strong> is exceptional.",
        "testimonial4Role": "QA Analyst",
        "testimonial4Text": "He is a <strong>natural worker</strong> and likes to constantly improve.",
        "footerText": "© 2025 Juan Ramón Torres Guzmán. All rights reserved."
    }
};

// ===== ANIMACIONES =====
function activateAnimation() {
    const elements = document.querySelectorAll('.hidden, .card, .testimonial-item');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                if (entry.target.classList.contains('card')) {
                    entry.target.style.opacity = "1";
                    entry.target.style.transform = "translateY(0)";
                }
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.1 });

    elements.forEach((el) => {
        if (!el.classList.contains('visible')) {
            el.style.opacity = "0";
            el.style.transform = "translateY(20px)";
            el.style.transition = "all 0.6s ease-out";
        }
        observer.observe(el);
    });
}

// ===== SISTEMA DE TRADUCCIÓN POR DICCIONARIO =====
function applyAutoTranslation(lang) {
    const langData = translations[lang];

    // Recorremos las llaves del diccionario y buscamos el elemento por ID
    Object.keys(langData).forEach(key => {
        const element = document.getElementById(key);
        if (element) {
            // Usamos innerHTML para mantener etiquetas como <span> o <i>
            element.innerHTML = langData[key];
        }
    });

    // Traducción de elementos por clase (para los botones de ver proyecto)
    const viewProjectButtons = document.querySelectorAll('.viewProjectBtn');
    viewProjectButtons.forEach(btn => {
        btn.innerHTML = langData["viewProjectBtn"];
    });

    document.documentElement.lang = lang;
}

// ===== INICIALIZACIÓN =====
document.addEventListener('DOMContentLoaded', () => {
    activateAnimation();

    const languageToggle = document.getElementById('languageToggle');
    if (languageToggle) {
        let currentLang = localStorage.getItem('lang') || 'es';

        // Aplicar idioma guardado al cargar
        if (currentLang !== 'es') {
            applyAutoTranslation(currentLang);
            languageToggle.textContent = 'EN/ES';
        }

        languageToggle.addEventListener('click', () => {
            currentLang = currentLang === 'es' ? 'en' : 'es';

            applyAutoTranslation(currentLang);
            localStorage.setItem('lang', currentLang);

            languageToggle.textContent = currentLang === 'es' ? 'ES/EN' : 'EN/ES';
        });
    }

    // Smooth Scroll
    document.querySelectorAll('.nav-link').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            if (this.hash !== "") {
                e.preventDefault();
                const target = document.querySelector(this.hash);
                if (target) {
                    window.scrollTo({
                        top: target.offsetTop - 70,
                        behavior: 'smooth'
                    });
                }
                const navbarCollapse = document.querySelector('.navbar-collapse');
                if (navbarCollapse.classList.contains('show')) {
                    bootstrap.Collapse.getInstance(navbarCollapse).hide();
                }
            }
        });
    });
});